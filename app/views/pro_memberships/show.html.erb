<% title "Pro Membership" %>

<style>
  <% cache "partnership-org-section-credits-#{ApplicationConfig['DEPLOYMENT_SIGNATURE']}", expires_in: 10.hours do %>
    <%= Rails.application.assets["partnerships.css"].to_s.html_safe %>
  <% end %>
</style>

<div class="partnerships-container">
  <% if flash[:notice].present? %>
    <div class="notice" id="notice">
      <%= flash[:notice] %>
    </div>
  <% elsif flash[:error].present? %>
    <div class="notice error-notice" id="notice" style="text-align:center;color:red">
      ERROR
      <%= flash[:error] %>
    </div>
  <% end %>

  <h1><img src="<%= asset_path "rainbowdev.svg" %>" /> Like a Pro</h1>
  <p>
    <strong><em>Pro is coming soon. This page is a work in progress. Since we're open source and transparently working on this, no sense in keeping it private eh?</em></strong>
  </p>
  <p>
    <strong><em>The copy on this page is a total draft. No judgment yet pls. 😄</em></strong>
  </p>
  <h3>🚀 Access the Bleeding Edge</h3>
  <p>A pro membership gives you access to <em>bleeding edge</em> features that may some day scale to general availability. However, we would rather launch great new features to a core dedicated userbase that is most interested than to delay until things are scalable to the whole community.
  <p><strong>Current Bleeding Edge Features</strong></p>
  <ul>
    <li>Pro Analytics: Deeper insights into the performance of your posts, traffic sources, etc.</li>
    <li>Searchable Pro History: Instant access to a repository of your entire reading history—for your own heightened reference.</li>
  </ul>
  <h3>👋 Access the Exclusive Areas</h3>
  <p>A pro membership gives you access to small pro groups that don't necessarily scale. Your pro membership immediately gives you access to <em>Editorial Groups</em> in DEV Connect. These are chat channels dedicated to peer-to-peer review of technical blog posts to help you make the most of your DEV presence.
  <h3>🤝 Access the Trust-based features</h3>
  <p>While pro memberships will not give you preferential treatment in the feed algorithm (that would be a no-no), you will get skin-in-the-game based access to trust-based features where we can place your posts more quickly and effectively in areas where spam would otherwise inhibit us.
  <h3>🙌 Always Improving</h3>
  <p>Because this will be the landing destination for experimental and low scale features, you will always have the best and most interesting DEV features. We also plan to connect for exclusive deals on new and upcoming features on other platforms.

  <% if @user %>
    <% if @user.pro? %>
      <div class="partner-credits-explainer">
        <h3>You already have a Pro Membership</h3>

        <% if @pro_membership %>
          <%= render "pro_membership", pro_membership: @pro_membership %>
          <a class="partnership-option-cta" href="<%= edit_pro_membership_path %>">Edit your Pro Membership</a>
        <% end %>
      </div>
    <% else %>
      <div class="partner-credits-options">
        <div class="partnership-option-card" style="width: auto;">
          <% if @user.has_enough_credits?(ProMembership::MONTHLY_COST) %>
            <%= form_for(ProMembership.new(user: @user)) do |f| %>
              <%= f.submit(
                    "Become a Pro member for #{ProMembership::MONTHLY_COST} credits/mo",
                    class: "partnership-option-cta",
                  ) %>
            <% end %>
          <% else %>
            <a
              class="partnership-option-cta"
              id="purchase-credits"
              href="<%= purchase_credits_path %>">Purchase <%= ProMembership::MONTHLY_COST %> credits</a>
          <% end %>
        </div>
      </div>
    <% end %>
  <% end %>
</div>
