<% if FeatureFlag.enabled?(:member_index_view) %>
  <% if params[:controller] == "admin/users" %>
    <div class="flex flex-col m:flex-row gap-3 m:items-center">
      <%= form_with url: admin_users_path, method: :get, local: true, class: "flex flex-col m:flex-row gap-3 m:items-center p-3" do |f| %>
        <div class="crayons-field flex-1 flex-row items-center gap-2">
          <%= f.text_field :search, value: params[:search], class: "crayons-textfield mt-0", placeholder: "Search member...", aria: { label: "Search member by name, username, email, or Twitter/GitHub usernames" } %>
        </div>
        <div class="crayons-field flex-row items-center gap-2">
          <%= f.select :role, options_for_select(Role::ROLES, params[:role]), { include_blank: true, prompt: "Filter by role..." }, class: "crayons-select mt-0" %>
        </div>
        <%= f.submit "Filter", class: "c-btn c-btn--secondary" %>
      <% end %>
      <a href="<%= export_admin_users_path %>.csv" target="_blank">
        <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13 0L18 5V19.008C17.9997 19.2712 17.895 19.5235 17.7088 19.7095C17.5226 19.8955 17.2702 20 17.007 20H0.993C0.730378 19.9982 0.479017 19.8931 0.293218 19.7075C0.107418 19.5219 0.00209465 19.2706 0 19.008V0.992C0 0.444 0.445 0 0.993 0H13ZM10 10V6H8V10H5L9 14L13 10H10Z" fill="#404040"/>
        </svg>
      </a>
    </div>
  <% end %>
<% else %>
  <% if params[:controller] == "admin/users" %>
    <%= form_with url: admin_users_path, method: :get, local: true, class: "flex flex-col m:flex-row gap-3 m:items-center p-3" do |f| %>
      <div class="crayons-field flex-1 flex-row items-center gap-2">
        <%= f.label :search, class: "crayons-field__label whitespace-nowrap" %>
        <%= f.text_field :search, value: params[:search], class: "crayons-textfield mt-0", placeholder: "Name, username, email, or Twitter/GitHub usernames", aria: { label: "Filter by name, username, email, or Twitter/GitHub usernames" } %>
      </div>
      <div class="crayons-field flex-row items-center gap-2">
        <%= f.label :role, "Filter by Role", class: "crayons-field__label whitespace-nowrap" %>
        <%= f.select :role, options_for_select(Role::ROLES, params[:role]), { include_blank: true }, class: "crayons-select mt-0" %>
</div>
      <%= f.submit "Filter", class: "c-btn c-btn--secondary" %>
    <% end %>
  <% end %>
  <% if params[:controller] == "admin/invitations" %>
    <%= link_to "New", new_admin_invitation_path, class: "c-cta self-end" %>
  <% end %>
<% end %>
