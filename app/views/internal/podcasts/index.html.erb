<style>
  .alert {
    border: 2px red solid;
  }
</style>

<h1>Podcasts</h1>

<%= form_tag("/internal/podcasts", method: "get") do %>
  <%= label_tag(:search, "Find by title:") %>
  <%= text_field_tag(:search, params[:search]) %>
  <%= submit_tag("Search") %>
<% end %>

<%= paginate @podcasts %>
<br>
<div style="font-weight: 600; border-bottom: 2px solid black; display: grid; grid-template-columns: 5% 15% 25% 10% 10% 20% 15%;">
  <div>ID</div>
  <div>Title</div>
  <div>Feed URL</div>
  <div>Episodes</div>
  <div>Reachable</div>
  <div>Status Notice</div>
  <div>Admins</div>
</div>

<% @podcasts.each do |podcast| %>
  <div style="border-bottom: 1px solid grey; padding: 10px; display: grid; grid-template-columns: 5% 15% 25% 10% 10% 20% 15%;">
    <div class="grid-item"><%= podcast.id %></div>
    <div class="grid-item"><a href="<%= internal_podcast_path(podcast) %>"><%= podcast.title %></a></div>
    <div class="grid-item"><a href="<%= podcast.feed_url %>"><%= podcast.feed_url %></a></div>
    <div class="grid-item"><%= podcast.podcast_episodes.count %></div>
    <div class="grid-item"><%= podcast.reachable %></div>
    <div class="grid-item"><%= podcast.status_notice %></div>
    <div class="grid-item"><%= podcast.admins.pluck(:id) %></div>
  </div>
<% end %>
<%= paginate @podcasts %>
